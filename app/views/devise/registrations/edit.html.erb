<h1 class="text-center mb-4"><%= t('.title', resource: resource_name.to_s.humanize) %></h1>

<div class="container d-flex flex-column justify-content-center align-items-center">
  <!-- Error messages directly above the form -->
  <% if resource.errors.any? %>
    <div class="alert alert-danger mb-4" style="max-width: 450px; width: 100%;">
      <ul>
        <% resource.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
    <div class="signup__card p-4 shadow-sm" style="max-width: 450px; width: 100%;">
      <h3 class="text-center mb-4"><%= t('.title', resource: resource_name.to_s.humanize) %></h3>

      <div class="signup__form-group">
        <%= f.label :email, class: 'form-label' %>
        <%= f.email_field :email, autofocus: true, autocomplete: 'email', class: 'form-control form-control-lg' %>
      </div>

      <div class="signup__form-group">
        <%= f.label :password, class: 'form-label' %>
        <%= f.password_field :password, autocomplete: 'new-password', class: 'form-control form-control-lg' %>
        <small class="form-text text-muted"><%= t('.leave_blank_if_you_don_t_want_to_change_it') %></small>
      </div>

      <div class="signup__form-group">
        <%= f.label :password_confirmation, class: 'form-label' %>
        <%= f.password_field :password_confirmation, autocomplete: 'new-password', class: 'form-control form-control-lg' %>
      </div>

      <div class="signup__form-group">
        <%= f.label :current_password, class: 'form-label' %>
        <%= f.password_field :current_password, autocomplete: 'current-password', class: 'form-control form-control-lg' %>
        <small class="form-text text-muted"><%= t('.we_need_your_current_password_to_confirm_your_changes') %></small>
      </div>

      <div class="signup__form-group text-center">
        <%= f.submit t('.update'), class: 'btn btn-primary btn-lg w-100' %>
      </div>
    </div>
  <% end %>
</div>

<!-- Cancel Account Link -->
<p class="text-center mt-4">
  <%= t('.unhappy') %> 
  <%= link_to t('.cancel_my_account'), registration_path(resource_name), data: { confirm: t('.are_you_sure') }, method: :delete, class: 'text-danger' %>
</p>

<!-- Back Link -->
<p class="text-center">
  <%= link_to t('.back'), :back, class: 'text-muted' %>
</p>
